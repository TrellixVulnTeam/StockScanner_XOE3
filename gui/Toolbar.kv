#:import Factory kivy.factory.Factory
#:import Display displayMain

<AssetType>
    id: asset_spinner
    text: "---"
    values:
        ["---",
        "Stock",
        "Index",
        "ETF",
        "REIT"]

<Fundamentals>
    id: fundamentals_grid
    cols: 4

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Price     $"
    TextInput:
        id: price_low
        hint_text: "0.0"
    Label:
        text: "      to    $"
    TextInput:
        id: price_high
        hint_text: "0.0"

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Volume"
    TextInput:
        id: volume_low
        hint_text: "0"
    Label:
        text: "to"
    TextInput:
        id: volume_high
        hint_text: "0"

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Mkt Cap"
    TextInput:
        id: mktcap_low
        hint_text: "0.0"
    Label:
        text: "to"
    TextInput:
        id: mktcap_high
        hint_text: "0.0"

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Share"
    TextInput:
        id: share_low
        hint_text: "0"
    Label:
        text: "to"
    TextInput:
        id: share_high
        hint_text: "0"

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Short"
    TextInput:
        id: short_low
        hint_text: "0"
    Label:
        text: "to"
    TextInput:
        id: short_high
        hint_text: "0"

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Change"
    TextInput:
        id: change_low
        hint_text: "0%"
    Label:
        text: "to"
    TextInput:
        id: change_high
        hint_text: "0%"

<Indicator>
    id: indicator_spinner
    text: "---"
    values: ["---","EMA","SMA"]

<Interval>
    id: interval_spinner
    text: "---"
    values: ["---","1min", "5min", "15min", "30min", "45min", "1h", "2h", "4h", "1 Day", "1 Week", "1 Month"]

<Spinner>
    background_normal: ""
    background_color: (1,1,1,1)
    color: (0,0,0,1)


    dropdown_cls: Factory.MyDropDown
    option_cls: Factory.MySpinnerOptions

<MySpinnerOptions@SpinnerOption>
    background_normal: ""
    background_color: (1,1,1,1)
    color: (0,0,0,1)
    size: 100, 44



<MyDropDown@DropDown>

<Technical>
    id: technical_grid
    cols: 2
    padding: [0, -6]
    spacing: [0, 2]


    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Time Period"
    TextInput:
        id: timeperiod
        hint_text: "0"

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Time Interval"
    Interval:
        id: interval

    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Indicator"
    Indicator:
        id: indicator


    Label:
        halign: "left"
        valign: "center"
        text_size: self.size

        text: "Threshold"
    TextInput:
        id: threshold
        hint_text: "0"

<TextInput>
    multiline: False

<Toolbar>
    id: toolbar
    size_hint: .3, 1

    RelativeLayout:
        size: root.size
        pos: 25, 0


        Label:
            size_hint: 1, .066
            pos_hint: {"top": 1}
            halign: "left"
            valign: "center"
            text_size: self.size

            text: "Tools"
            bold: True


        GridLayout:
            cols: 2
            size_hint: 1, .033
            pos_hint: {"top": .933}

            Label:
                halign: "left"
                valign: "center"
                text_size: self.size

                text: "Asset Type"
            AssetType:
                id: asset


        Label:
            size_hint: 1, .05
            pos_hint: {"top": .85}
            halign: "left"
            valign: "center"
            text_size: self.size

            text: "Fundamentals"
            bold: True

        Fundamentals:
            id: fundamentals
            size_hint: 1, .2
            pos_hint: {"top": .8}

        Label:
            size_hint: 1, .05
            pos_hint: {"top": .55}
            halign: "left"
            valign: "center"
            text_size: self.size

            text: "Technical"
            bold: True

        Technical:
            id: technical
            size_hint: 1, .133
            pos_hint: {"top": .5}

        Button:
            id: search_toolbar
            size_hint: .5, .05
            pos_hint: {"top": .317, "center_x": .5}

            text: "Search"
            on_release: root.search()

